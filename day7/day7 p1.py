##                                 ###
## Solution by vitras21 (Vitaly.R) ###
##                                 ###

input_data = """......................................................................S......................................................................
.............................................................................................................................................
......................................................................^......................................................................
.............................................................................................................................................
.....................................................................^.^.....................................................................
.............................................................................................................................................
....................................................................^...^....................................................................
.............................................................................................................................................
...................................................................^.^.^.^...................................................................
.............................................................................................................................................
..................................................................^.^.^...^..................................................................
.............................................................................................................................................
.................................................................^.....^.^.^.................................................................
.............................................................................................................................................
................................................................^.^...^.^.^.^................................................................
.............................................................................................................................................
...............................................................^.^.^.^...^.^.^...............................................................
.............................................................................................................................................
..............................................................^.^.^.^.^...^.^.^..............................................................
.............................................................................................................................................
.............................................................^.^.^.....^...^.^.^.............................................................
.............................................................................................................................................
............................................................^.^.^.^.^.^.^.^.^.^.^............................................................
.............................................................................................................................................
...........................................................^.^.^.....^.^.^.....^.^...........................................................
.............................................................................................................................................
..........................................................^.^...^.^...^.^.^.^.^.^.^..........................................................
.............................................................................................................................................
.........................................................^.^.^.^.......^...^.^.^.^.^.........................................................
.............................................................................................................................................
........................................................^.^.^.^.....^.^.^.^.^.^.^...^........................................................
.............................................................................................................................................
.......................................................^.^.........^...^...^.^.....^.^.......................................................
.............................................................................................................................................
......................................................^.^.^.^...^...^...^.^.....^.....^......................................................
.............................................................................................................................................
.....................................................^.^...^...........^.^.^.^.^.^...^.^.....................................................
.............................................................................................................................................
....................................................^.^.^.^...^.....^...^.^...^...^.....^....................................................
.............................................................................................................................................
...................................................^.^.^.^.^.^...^...^.^.^.^.^.^.^.^.^.^.^...................................................
.............................................................................................................................................
..................................................^.^...^.^.^...^.^.^.^.^.^.^.......^...^.^..................................................
.............................................................................................................................................
.................................................^...^.......^...^...^.^...^...^.^...^.^.^.^.................................................
.............................................................................................................................................
................................................^.....^.^.^...^.^.^...^.....^.^.^...^.^...^.^................................................
.............................................................................................................................................
...............................................^.^...^.^.^.^...^...^...^.....^...^...^.^...^.^...............................................
.............................................................................................................................................
..............................................^...........^.^.....^.......^.^.^...^.^.^.^.^.^.^..............................................
.............................................................................................................................................
.............................................^.^.^.^.....^.^.^.^.^...^.......^.^.....^.^...^...^.............................................
.............................................................................................................................................
............................................^...^.^.^...^.^.^.^.....^.^.....^...^...^.^.^.^.^.^.^............................................
.............................................................................................................................................
...........................................^.....^.^.^.^.^.^.^.^.^.^.^.^.^.^...^...^...^.^.^...^.^...........................................
.............................................................................................................................................
..........................................^.^...^.^.^.^...^.^.^.^.^...^...^.^...^...........^...^.^..........................................
.............................................................................................................................................
.........................................^...^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.....^.^.........................................
.............................................................................................................................................
........................................^.^.^.....^.^.^...^.^...^.^...^...^...^.^.^.^.^.....^.^.^.^.^........................................
.............................................................................................................................................
.......................................^.^.^...^...^.^.....^.^.^.^.^.^.^.^.^.^...^.^.^.^.^...^...^...^.......................................
.............................................................................................................................................
......................................^.^.^.^.^.......^.^.^.^.^.^.^.....^...^.^.^.^.^.....^...^.....^.^......................................
.............................................................................................................................................
.....................................^.^.^.^.^.^.^.^.^.^.....^.......^.....^.^.^.^.^...^.^...^.^.^.^.^.^.....................................
.............................................................................................................................................
....................................^.^.^.^.^.^.^.^...^.^.^.^.^.^.^.^.^.^...^.^.^.....^.^.^...^.^.....^.^....................................
.............................................................................................................................................
...................................^.^.^.....^.....^.^.^.^.....^.^.^.^.^.^...^.^...^...^.^.^...^...^.^.^.^...................................
.............................................................................................................................................
..................................^.^.^.^...^.^.....^...^...^.^.^.^.^.....^.^.^.^.^.^...^.^...^.^...^.^.^.^..................................
.............................................................................................................................................
.................................^.^.^.^.^.^...^.^.^...^.^...^.....^.......^.^.^.^.^.^.^.^.^.^.^.....^.....^.................................
.............................................................................................................................................
................................^.^.^.^.^.^.^...^.^...^...^.^.......^...^...^.^...^...^.^...^.^.^.^.^...^.^.^................................
.............................................................................................................................................
...............................^.^...^.^.^.^.^.^.^.^.^.^.......^.^.^.^.^.^.^.....^.^...^.^.....^.^.^...^.^.^.^...............................
.............................................................................................................................................
..............................^.^.^.^...^.^.^.^.^.^.........^...^.^.^.....^...^.^.^.^.^.....^.......^.^.^...^.^..............................
.............................................................................................................................................
.............................^.^...^.^.^.^.....^.^...^.^.^.^...^.^.^...^.^...^.^.^.^.^...^.^.^.....^...^.....^.^.............................
.............................................................................................................................................
............................^.^.^.^.^.^...^...^.^.^.^...^.^...^...^.^...^.^.^.^.^.^...^.^.^.^...^.^.....^.^.^.^.^............................
.............................................................................................................................................
...........................^.^.^.^.^.^.^.^.^...^...^...^.^.^.^...^...^.^.^.^.^.^.^...^.^.^...^.^.......^.^.^.^.^.^...........................
.............................................................................................................................................
..........................^.^.^...^...^...^.^.^.^...^.^.^.^.^.^...^.^.^.^.^...^.....^...^.^.^...^.^.^.....^.^.^.^.^..........................
.............................................................................................................................................
.........................^...^.^...^...^.^.^.^.^.^.^...^.^.^.....^...^...^.^.^.^.^...^.^.^...^.^.^...^.....^.^.^.^.^.........................
.............................................................................................................................................
........................^.^.^...^.^...^...^.^...^.^.^...^.^.^.^.^.^.^...^.^.^.^...^.^...^.^.^.^.^...^.^.^.^.....^.^.^........................
.............................................................................................................................................
.......................^.^.^.^.^.^.^.^.............^.....^.^.....^.^.^...^...^.....^.^.^.^.^...^.......^.^.^.^.......^.......................
.............................................................................................................................................
......................^.^...^.^...^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.....^...^.^.^.^.^.....^.^.^.^.^.^.^.^.^.^.....^.^......................
.............................................................................................................................................
.....................^.^.^.^.^.^...^.......^.^.^.^...^.^.^.^.^.^.....^...^.^.^...^.^.^.^.^...^.^.^.^.^.....^...^.^.^.^.^.....................
.............................................................................................................................................
....................^.^.^...^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.......^.^.^.^.^.^.^.^...^.^...^.^.^.^...^.^.^.^.^...^.^.^....................
.............................................................................................................................................
...................^.......^...^.^.....^.^.^.^...^.^...^...^...^...^.^...^...^.^.^.......^.^.^.^.^...^...^...^.^...^.....^...................
.............................................................................................................................................
..................^.^...^...^.^.^...^...^.^...^.^.^.......^.^...^.^.^.^.^.^.^.^.^.^...^...^.....^.^.^.^...^.^.......^.^.^.^..................
.............................................................................................................................................
.................^.^.^.^.^.^.^...^.....^...^.^.^.^...^.^...^.^.....^.^...^...^...^.^.^.^...^...^.^.^.^.^.....^.^.^...^.^.^.^.................
.............................................................................................................................................
................^.^.^.^...^.^.^.^.......^.^...^...^.^...^.^.^.....^...^.^.^.^.^...^.^.^.^.^.^.^.^...^.^.^.^.^.......^...^...^................
.............................................................................................................................................
...............^.^.^.^.^.^.^...^.^.^.^.......^.^.....^...^.^.^.....^...^.^.^...^.^...^...^...^.^.^.....^...^.^...^...^.^.^...^...............
.............................................................................................................................................
..............^.^.....^.^.^...^...^.^.^.^...^.^.^...^.^...^.........^...^.^...^...^.^.^.....^.^.....^.^...^.^...^.^.^...^.^.^.^..............
.............................................................................................................................................
.............^...^...^.......^.^.^...^.^...^...^.....^...^.^.^.^.^.^.....^.^.......^.^.^.^.^...^.^...^.^.^.^.^.^...^.^.^.^.....^.............
.............................................................................................................................................
............^.^.^...^.^.^.^...^...^.^.^...^.^.^.^.^.^.^...^.^.^.^...^.....^.^.^...^.^.^.^...^.^.....^.^.^.^...^.^.^...^.^...^...^............
.............................................................................................................................................
...........^.^.^...^.^.^.^...^.^.^.^.^.^.^.^.......^.^.^.....^...^.^.^.^.....^.^...^.^.^...^.^...^...^...^.^...^.^.^.^.^.....^.^.^...........
.............................................................................................................................................
..........^.....^.^.^.^.^.^.^.^.^.^.^.^...^.^.^.^.^.^.^...^.^.^.....^.^.^...^.^.^.^...^...^.^.^...^.....^...^.^...^.....^.....^...^..........
.............................................................................................................................................
.........^.^...^.^.^...^.^...^...^.^.^.^...^.^.^.^.^.....^...^.^...^...^...^...^.^.^...^...^.^.^.^.^.....^.^.^.....^...^.^.^.^.^.^.^.........
.............................................................................................................................................
........^.^...^.......^.^.^.....^.^.^.^.^.^.^...^.^.^.....^.^.^.^.^.......^...^.^.^.^...^.....^.^.^.^.^...^.^.....^.^.^.^.^.^.^.^...^........
.............................................................................................................................................
.......^.^.^.....^...^.^.^...^.^.^.^.^.....^.^.....^.^.^.^.^.^.^.^...^.^...^...^.^.^.^.^...^.......^.^...^.....^...^.^.^.^.^.^.^.^.^.^.......
.............................................................................................................................................
......^...^.^...........^.^.^.......^...^.^.^.^.^.^.^.^.^...^.^.^.^.^...^.....^...^.^.^.^.^.^...^.^...^.....^...^.^.^.^...^...^.^...^.^......
.............................................................................................................................................
.....^.^.^...^.....^.....^.^.....^...^.^.^.^.^...^.^.^.^.^.^.......^...^...^.^...^...^.^.^.^...^...^.......^.....^.^.^...^.^.^.^.^...^.^.....
.............................................................................................................................................
....^.^.^.^.^...^.^...^.^.^.^.^...^.^...^...^...^.^.^...^.^.^.......^.^.^.^.^.^.^...^.^.....^.^.^.^.^.^.^.^.^.^.^.^.........^.^...^.^...^....
.............................................................................................................................................
...^.^...^.^.^.^.^.^.^.^.^.^.......^.^...^...^...^.^.^.^...^.^...^...^.^...^.^...^.^.^...^...^...^.....^...^.....^.^.^.^...^.^...^.^...^.^...
.............................................................................................................................................
..^...^...^...^.^.^...^...^.^.^...^.^.^...^.....^.....^...^.^.......^...^...^.^.........^...^...^.^...^...^...^.....^.^.^.^.^.^.........^.^..
.............................................................................................................................................
.^...^.^.^.^.^.^.^.^...^.^...^.^.^...^.^.^...^...^.^...^.^...^...^...^.^.^.^.^.^.^.^.^.^.^...^.^.....^.....^.^.^.^.^.^.^.......^.^.^.^.^...^.
.............................................................................................................................................
"""

grid_lines = input_data.splitlines()
grid = [list(line.strip()) for line in grid_lines if line.strip()]

if not grid:
    total_splits = 0
else:
    max_rows = len(grid)
    max_cols = len(grid[0])
    
    try:
        spos = grid[0].index('S')
    except ValueError:
        spos = -1

    if spos != -1:
        active_columns = {spos} 
        
        splitters_hit = set()
        total_splits = 0

        for i in range(1, max_rows):
            next_active_columns = set()
            
            for j in active_columns:
                char = grid[i][j]
                
                if char == '.':
                    next_active_columns.add(j)
                    
                elif char == '^':
                    if (i, j) not in splitters_hit:
                        total_splits += 1
                        splitters_hit.add((i, j))
                    
                    for new_c in [j - 1, j + 1]:
                        if 0 <= new_c < max_cols:
                            next_active_columns.add(new_c)
                    
                else: 
                    pass
        
            if not next_active_columns:
                break
                
            active_columns = next_active_columns
    else:
        total_splits = 0


print(total_splits)
